# 【初級】AWS を支えるグローバルネットワーク

## AZ
---

アベイラビリティゾーン（１以上のデータセンターで構成）

* 1つのAZで8つのデータセンター建屋があるものもある
* AZが違えばDR構成が取れることを狙いとしている
* 数十万台規模のサーバを収容
* データセンター間は冗長化された独立したメトロファイバーで接続

## リージョン
---

* azを複数＋複数のトランジットセンターで構成されるインフラ
* ファイバでつないでいる
* ex東京リージョン、オレゴンリージョン（usなら）

### アメリカの事例

* コンポーネントが壊れても動くように作っている
* 地中の光ファイバーがショベルカーで切断されてしまった
* １３パケットがドロップになる程度の被害だった

### ブラジル

* 電柱で光ファイバーを通していた。
* ゴミ捨て場の火災で切断
* 被害報告なし

## リージョン内ネットワークの可用性
---

ダークファイバー

* 休眠しているファイバーをダークファイバーという  
→だけど、ちゃんと繋いでいるのでいざという時に役にたつ

位置のトラッキング

* 地理空間座標を用いた配置の分析
* 冗長化した光ファイバーの経路の把握、物理的に隣接していないか把握している

## リージョン内のネットワーク仮想 / オーバーレイ
---

### EC2

* EC2のインスタンスの歴史

### amazon VPC

* クラウドスケールを実現するためにAWSが開発した分散型仮想ネットワーク
* インスタンス配置の管理と検証を行う「マッピングサービス」

### AWS Hyperplane

* AWS内部で使用されるロードバランシグサービス

## リージョン間のネットワーク
---

* 海底のケーブルに名前が付けられている
    * HAWAIKI（アメリカ西海岸からオーストラリア）
    * BAY TO BAY EXPRESS(アメリカ西海岸から香港経由でシンガポール) 
    * JUPITER (アメリカから日本へのケーブル)
* Inter-Region VPC Peering  
    * リージョンを跨いだプライベートネットワークの構成ができる
* Direct Connect Gateway  
    * 最寄りのロケーションへの接続だけでグローバル接続を実現
* AWS Global Accelerator
    * コンシューマ向け
    * 単一のIPでリージョン冗長も実現
    * 車、モバイル、IOTで使える
* Amazon CloudFront  
    * コンテンツキャッシュと高速伝送によりコンシューマアプリのUX向上
* AWS Shield/AWS WAF  
    * オンデマンドで使用できるDDoS保護とWAF
    * 今までに考えられなかった大規模な攻撃からサービスを守る

## 本日の内容はここでもまとまってる
---

https://infrastructure.aws/


