# 【初級】AWS コスト管理徹底入門


## コスト管理について
---

いつスケールアップしたらいいのか？
コスト管理として何をすればいいのか？

* 可視化
* 監視・分析
* 最適化
⇒このサイクルを回すことが重要

## コストの可視化
---

### コストの把握が必要となる代表的な単位

* awsアカウント単位
* 複数のアプリケーションが動いている

⇒それぞれ提起確認する

### 複数アカウントの請求管理

aws organizations
一括請求をすることができる

master権限が一括で各部署の費用を知ることができる

### アプリケーション単位で見たい

awsではタグをつけられる
Name: web,
syastem: front
のようにタグをつけられる。
コスト配分タグをつけよう！

### コスト可視化ツールの入り口

請求ダッシュボード

### guiで確認

aws cost explorer


## コストの監視・分析
---

* コストの監視・分析の目的

* 想定外のコストが発生していないか
    * aws badgets

* 無駄なコストが発生していないか
    * aws trusted advisor
    * アラートの条件と推奨アクションなども教えてくえる

* コスト最適化できる余地はないか


## コスト最適化のアプローチ
---

*  ３つの側面でアプローチを行う
    * aws（ボリュームディスカウント、購入オプション）
    * 技術を持って最適化（アーキテクチャの最適化）
    * 運用（リソースの無駄をなくす）
*  ボリュームディスカウントの活用  
  一括請求でまとめることでボリュームディスカウントをより有効活用
* EC2の購入オプション  
  デフォルトはオンデマンド  
  あと  
    * リザーブドインスタンス：なんのん使うとか決まっている。予想可能で安定したワークロードでのご利用はこちら
    * スポットインスタンス：予測不可能、スパイクすることがある場合はこちら  

    がある

* リザーブドインスタンスの期限切れ防止  
  nortificationの設定がある
* コスト効率を意識したアーキテクチャの構築
    * 需要の変化に柔軟に対応できるようにする  
    * loadbalancerを設置してauto scalingを活用する  
    * serverlessなサービスlambadaを使用して固定のリソースを持たないようにする  
    * ステートとリソースを分離する  

  EC2は幅広いインスタンスの種類から選択できる  
  インスタンスタイプが今なくてもそのうち出るかも  
  遠慮しないで言ってね


## まとめ
---

柔軟に変化できるようなプロジェクト計画を事前に組めたら...

* AWSの機能を使って状況を可視化
* 定期的に監視分析
* 様々なサービスや機能を使って最適化
* 最後はコスト管理のフィードバックループを回せる文化を！


